(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{37:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(40),s=a(41),r=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"allRegions",get:function(){return[{id:0,name:"All",unavailable:!1},{id:1,name:"Africa",unavailable:!1},{id:2,name:"Americas",unavailable:!1},{id:3,name:"Asia",unavailable:!1},{id:4,name:"Europe",unavailable:!1},{id:5,name:"Oceania",unavailable:!1}]}}]),e}()},38:function(e,t){},39:function(e,t,a){"use strict";var n=a(37);a.d(t,"Regions",(function(){return n.a}));a(38)},48:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),c=a.n(r),i=(a(48),a(23)),l=a(7),d=a(1),o=a(22),m=a(21),u=a(58),j=a(59),b=a(2),x=Object(b.d)({name:"country",initialState:{countries:[],names:[],searchQuery:"",selectedRegion:null,themeMode:""},reducers:{setCountries:function(e,t){e.countries=t.payload},setSearchQuery:function(e,t){e.searchQuery=t.payload},setSelectedRegion:function(e,t){e.selectedRegion=t.payload},setThemeMode:function(e,t){e.themeMode=t.payload}}}),h=x.reducer,p=x.actions,g=(p.setCountries,p.setSearchQuery),O=p.setSelectedRegion,f=p.setThemeMode,v=a(31),k=a(10),y=function(){return Object(k.d)()},N=k.e;var w=a(39),C=function(){var e=new w.Regions,t=N((function(e){return e.country})).selectedRegion,a=y();return Object(d.jsx)("div",{className:"relative",children:Object(d.jsx)(u.a,{value:t,onChange:function(e){var t;(t=e)&&a(O(0===t.id?null:t))},children:Object(d.jsxs)("div",{className:"relative",children:[Object(d.jsxs)(u.a.Button,{className:"w-full border-0 rounded-md h-14 flex items-center justify-between pt-0 pr-5 pb-0 pl-6 bg-light-primary dark:bg-dark-primary shadow-sm",children:[Object(d.jsx)("span",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:t?t.name:"Filter by Region"}),Object(d.jsx)("span",{className:"text-xs text-light-text dark:text-dark-text",children:Object(d.jsx)(m.a,{icon:o.a})})]}),Object(d.jsx)(j.a,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(d.jsx)(u.a.Options,{className:"mt-1 p-5 absolute w-full overflow-auto rounded-md bg-light-primary dark:bg-dark-primary shadow-lg",children:e.allRegions.map((function(e){return Object(d.jsx)(u.a.Option,{value:e,disabled:e.unavailable,className:"py-2 cursor-pointer text-light-text dark:text-dark-text",children:e.name},e.id)}))})})]})})})},L=function(e){var t=e.country;return Object(d.jsx)(i.b,{to:"/detail/".concat(t.name),className:"hover:scale-105 transition shadow-sm",children:Object(d.jsxs)("div",{className:"bg-light-primary dark:bg-dark-primary text-light-text dark:text-dark-text",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.flag,alt:"",className:"object-cover h-48 w-full"})}),Object(d.jsxs)("div",{className:"px-8 py-8",children:[Object(d.jsx)("header",{children:Object(d.jsx)("h2",{className:"text-xl font-black mb-6",children:t.name})}),Object(d.jsxs)("div",{className:"mb-2 text-sm",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Population:"})," ",t.population]}),Object(d.jsxs)("div",{className:"mb-2 text-sm",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Region:"})," ",t.region]}),Object(d.jsxs)("div",{className:"mb-2 text-sm",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Capital:"})," ",t.capital]})]})]})})},S=function(){var e=N((function(e){return e.country})).themeMode,t=y();return Object(d.jsx)("div",{className:"h-[160px] desktop:h-20 mb-12 shadow-sm bg-light-primary dark:bg-dark-primary",children:Object(d.jsxs)("div",{className:"flex items-center justify-between container mx-auto h-full px-4",children:[Object(d.jsx)("div",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:"Where in the world?"}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"bg-transparent border-0 flex gap-2 text-light-text dark:text-dark-text items-center",onClick:function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.theme="light",t(f("Light"))):(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark"),localStorage.theme="dark",t(f("Dark")))},children:[Object(d.jsx)(m.a,{icon:o.c}),Object(d.jsxs)("span",{className:"font-semibold",children:[e," mode"]})]})})]})})},R=function(){var e=N((function(e){return e.country.searchQuery})),t=Object(n.useState)(""),a=Object(v.a)(t,2),s=a[0],r=a[1],c=function(e,t){var a=Object(n.useState)(e),s=Object(v.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){return c(e)}),t||500);return function(){clearTimeout(a)}}),[e,t]),r}(s,500),i=y();return Object(n.useEffect)((function(){c&&i(g(s))}),[c,i,s]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"relative shadow-sm",children:[Object(d.jsx)("span",{className:"left-10 absolute inset-y-0 flex items-center text-light-text dark:text-dark-text",children:Object(d.jsx)(m.a,{icon:o.d})}),Object(d.jsx)("input",{type:"text",className:"h-14 border-0 bg-light-primary dark:bg-dark-primary rounded-md w-full box-border pl-[74px] text-light-text dark:text-dark-text placeholder-light-text dark:placeholder-dark-text",placeholder:"Search for a country...",value:s||e,onChange:function(e){var t=e.target.value;r(t),0===t.length&&i(g(""))}})]})})},E=a(42),M=a(11),Q=Object(E.a)({reducerPath:"countryApi",baseQuery:Object(M.d)({baseUrl:"https://restcountries.eu/rest/v2/"}),tagTypes:["Countries"],endpoints:function(e){return{getCountries:e.query({query:function(e){return"all"}}),getCountryByCode:e.query({query:function(e){return"alpha/".concat(e)}}),getCountryByName:e.query({query:function(e){return"name/".concat(e)}})}}}),T=Q.useGetCountriesQuery,B=Q.useGetCountryByCodeQuery,F=(Q.useGetCountryByNameQuery,function(){var e=N((function(e){return e.country})),t=e.searchQuery,a=e.selectedRegion,s=T("Sweden"),r=s.data,c=s.error,i=s.isLoading,l=Object(n.useMemo)((function(){if(r)return r.filter((function(e){return a?e.name.toLowerCase().includes(t.toLowerCase())&&e.region===a.name:e.name.toLowerCase().includes(t.toLowerCase())}))}),[r,a,t]);return i?Object(d.jsx)(q,{message:"Loading ..."}):c?Object(d.jsx)(q,{message:"Error while fetching countries"}):l?Object(d.jsx)("div",{className:"grid grid-cols-1 desktop:grid-cols-4 gap-16",children:l.map((function(e,t){return Object(d.jsx)(L,{country:e},t)}))}):Object(d.jsx)(q,{message:"Didnt find any countries."})}),D=function(e){var t=e.name,a=B(t),n=a.data,s=a.error;return a.isLoading?Object(d.jsx)(q,{message:"Loading ..."}):s?Object(d.jsx)(q,{message:"Error while fetching countries"}):n?Object(d.jsxs)("div",{className:"desktop:grid desktop:grid-cols-2 desktop:gap-36",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:n.flag,alt:"",className:"object-cover w-full"})}),Object(d.jsxs)("div",{className:"text-light-text dark:text-dark-text",children:[Object(d.jsx)("div",{className:"font-semibold text-4xl mt-12 mb-12",children:n.name}),Object(d.jsxs)("div",{className:"desktop:grid desktop:grid-cols-2 desktop:gap-4 desktop:mb-4 mb-6",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Native Name:"})," ",n.nativeName]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Top Level Domain:"})," ",n.topLevelDomain.map((function(e,t){return Object(d.jsx)("span",{children:e},t)}))]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Population:"})," ",n.population]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Currencies:"})," ",n.currencies.map((function(e,t){return Object(d.jsx)("span",{children:e.name},t)}))]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Region:"})," ",n.region]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"font-semibold",children:"Languages:"})," ",n.languages.map((function(e,t){return Object(d.jsx)("span",{children:e.name},t)}))]})]}),Object(d.jsxs)("div",{className:"mb-4",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Sub Region:"})," ",n.subregion]}),Object(d.jsxs)("div",{className:"mb-12",children:[Object(d.jsx)("span",{className:"font-semibold",children:"Capital:"})," ",n.capital]}),n.borders.length>0&&Object(d.jsxs)("div",{className:"desktop:flex desktop:items-center desktop:gap-4",children:[Object(d.jsx)("div",{className:"mb-4 desktop:mb-0 text-2xl",children:"Border Countries:"}),Object(d.jsx)("div",{className:"flex items-center gap-4 flex-wrap",children:n.borders.map((function(e,t){return Object(d.jsx)(i.b,{to:"/detail/".concat(e),className:"bg-light-primary dark:bg-dark-primary text-light-text dark:text-dark-text py-1 px-5 inline-block text-xs rounded-md shadow-md",children:e},t)}))})]})]})]}):Object(d.jsx)(q,{message:"Didnt find that country."})},q=function(e){var t=e.message;return Object(d.jsx)("div",{className:"container mx-auto px-4 text-light-text dark:text-dark-text",children:t})},P=function(){var e=Object(l.e)().name;return e?Object(d.jsxs)("div",{className:"container mx-auto px-4 pb-10",children:[Object(d.jsx)("div",{className:"mb-[80px] pt-10",children:Object(d.jsx)(i.b,{to:"/",className:"bg-light-primary dark:bg-dark-primary text-light-text dark:text-dark-text py-3 px-10 inline-flex gap-3 items-center rounded-md shadow-lg",children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.a,{icon:o.b}),"Back"]})})}),Object(d.jsx)(D,{name:e})]}):Object(d.jsx)("div",{className:"container mx-auto px-4 text-light-text dark:text-dark-text",children:"Must have a name"})},A=function(){return Object(d.jsxs)("div",{className:"container mx-auto px-4 pb-10",children:[Object(d.jsxs)("div",{className:"desktop:flex desktop:justify-between",children:[Object(d.jsx)("div",{className:"mb-10 desktop:mb-20 w-full desktop:w-[480px]",children:Object(d.jsx)(R,{})}),Object(d.jsx)("div",{className:"w-[200px] mb-10 desktop:mb-0",children:Object(d.jsx)(C,{})})]}),Object(d.jsx)(F,{})]})},G=function(){var e=y();return Object(n.useEffect)((function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),e(f("Dark"))):(document.documentElement.classList.remove("dark"),e(f("Light")))}),[e]),Object(d.jsx)(i.a,{basename:"/",children:Object(d.jsxs)("div",{className:"page-wrapper",children:[Object(d.jsx)(S,{}),Object(d.jsx)(l.a,{exact:!0,path:"/",component:A}),Object(d.jsx)(l.a,{path:"/detail/:name",component:P})]})})},I=a(43),J=Object(b.a)({reducer:Object(I.a)({country:h},Q.reducerPath,Q.reducer),middleware:function(e){return e().concat(Q.middleware)}});Object(M.e)(J.dispatch);var U=J,W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(k.a,{store:U,children:Object(d.jsx)(G,{})})}),document.getElementById("root")),W()}},[[56,1,2]]]);
//# sourceMappingURL=main.2a7d8698.chunk.js.map